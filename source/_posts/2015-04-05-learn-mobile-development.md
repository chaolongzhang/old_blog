---
layout: post
category: [程序人生]
title: 我的移动开发入门之坑
keywords: 移动开发入门之路
tags: 移动开发
---

##前言
本文回顾我几年前入门移动开发（iOS开发）的那段坑爹的历史，你将会看到一个非常规的入门之路。本文并不打算介绍具体的技术，但我想你一定能从中学到东西，不信就请继续阅读。

##始惊
大学期间我有幸进入了实验室，跟随导师学习和做项目。我导师不同于其他老师，他给了我更多地自由和学习时间。我进入实验室很长一段时间都是在自学而没有参与项目，也是在那段时间我打下了较好的程序设计基础。

开始我学的是C#（因为刚进实验室时导师跟让我学下C#或JAVA，然后我就学了C#）,也开发过一些小模块。在大二的某一天（具体时间记不清了），导师说要开发一个iOS应用，当时实验室还没有开发iOS的人，然后就把任何给了我。就这样在我还不知道iOS为何物时就被拉下水了。

任务已经分配了，而且还有deadline。对于没有任何移动开发经验的我来说（更准确地说是没有任何软件开发经验），这简直就是一个Mission impossible。不过时间紧迫加上太多的未知，也由不得我多想了。

先求助于万能的网络，Google、百度和各种论坛，终于找到了方向，开发iOS大概需要具备以下条件：

*  Mac 电脑，运行 OS X
*  Xcode
*  Objective-C语言
*  iOS SDK
*  最好有一台配备iOS的手机
*  。。。。

<!--more-->

##次醉
以上条件我一个都不具备，不过已经知道要从哪方面准备了。又经过一番Google，知道了Mac OS这个操作系统，原来这个世界上还有非Windows系统的电脑；Xcode是一个开发工具，类似于VC6.0；Objective-C是开发iOS应用的语言；至于iOS SDK，反正装上Xcode就会有；iPhone手机就不要了吧。

可问题有来了，Mac OS要安装在水果电脑上，我连水果电脑长啥样都不知道。再次求助于万能的网络，知道了世界上还有一个叫[黑苹果](http://baike.baidu.com/link?url=lT_F62BvP0Qmp1fGayYDMicj7gk5nMuWAVjn1xjrD8xLZdHA3qR78R7t-85onIvZsBeKhhLuwK7tXpWg2SxGk_-ZHMlIJZfTFz9B8inoneK)的东西，有了黑苹果，在普通电脑上也能装Mac OS了。

于是在网上找了很多黑苹果的资料，大概有两种安装方式：虚拟机和真机安装。貌似虚拟机安装要简单一点，那就先装虚拟机吧，经过一番折腾，在虚拟机上装了Mac OS 10.6，当时最新的是Mac OS 10.7。

当时在安装虚拟机的同时也没闲着，我还去图书馆借了本Objective-C语言的教材，我记得是Objective-C 2.0的。后来在虚拟机上装了个Xcode，把书中的代码都敲了一遍，感觉还行，和C语言挺像的。Objective-C看了一个星期，感觉基本的都会了，不理解的更多。又去图书馆借了几本iOS开发教程的书，开始看书时感觉云里雾里的，不知所云，还好有代码，照着书上的代码敲，运行，看看效果，不错，能在界面上拖几个控件出来了。

虚拟机用得确实很不爽，我想还是在真机上装个Mac OS吧。嗯，学习iOS开发累了就来装黑苹果。参照自己笔记本型号在网上找了很多资料，从现有情报来看，我的电脑是被判了死刑——由于体系架构的原因，该电脑几乎无法安装黑苹果。不过我也学到了很多新名词，像内核、Mac OS X86 for PC、懒人版、AHCI、HFS、Chameleon、五国问题、无限风火轮之类的，感觉信息量好大。我也并没有因此而放弃，经过不断的尝试和查找资料（国内的资料不够用还查找国外的），尝试过替换内核、编译内核、打补丁、换驱动等各种方法。前前后后又折腾了十多天，终于把黑苹果装上了，同时也学到了大量的计算体系结构知识。

在装黑苹果的同时也在学习iOS开发，主要是结合项目，这个应用需要什么就在书上找什么，然后再把代码Fork进来。这个应用也做了部分，比如下面的界面：

![login](/assets/images/2015/mobile-development-1.jpg)

当然，也完成了部分逻辑代码，能登陆、获取服务器上的数据等等。

##终狂
黑苹果用着也很是不爽，不过没熬多久，实验室终于添购了一台macbook pro，我也不用忍受黑苹果带来的各种问题了。我寝室书桌也成了这样：

![desk](/assets/images/2015/desk.jpg)

###圆弧和扇形
这个应用有一个比较重要的功能是根据数据显示一些圆弧，如下图：

![yuanhu](/assets/images/2015/mobile-development-2.png)

看似简单地图形其实包含了很多知识，还好高中数学没忘完，查找了圆弧相关的知识和iOS绘画的方法，自己还P了个背景图，花了几天时间搞定。

###正弦函数和手势
这个应用有个需求是滑动界面可切换显示内容，当时我不知道有[手势（UIGestureRecognizer ）](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIGestureRecognizer_Class/)这个东西，不过还好知道有触摸的事件。于是我就想：滑动屏幕时，要先点击屏幕，再滑动，然后释放。那么我可以取到点击屏幕的坐标和释放屏幕的坐标，通过正弦函数就能知道角度，从而判断滑动的方向。于是我在屏幕的上下左右四个方向划分30°作为这个方向的有效区域。

![gesture1](/assets/images/2015/figure-1.jpg)

当夹角在任意四个区域之一就认为是往这个方向滑动。OK，大功告成，自己试了下，用起来挺方便的。

可好景不长，拿给用户试用了下，反应滑动不灵敏，经常没有效果。这怎么可能呢，我用的不好好的吗？再想一想，嗯，30°的范围也许太小了，要用户非常认真地滑才行。既然30°不够，那就扩大角度吧，90°，不能再大了（除非圆周角大于360°）。有效区域就成了下面这个样子。

![gesture2](/assets/images/2015/figure-2.jpg)

修改几个参数，拿给用户测试，这次挺灵敏了。

##写在后面的话
以上大部分事件发生在一个月内，一个月时间我从一个门外汉入门了iOS开发，并完成了一个简单iOS应用的基本功能。这个不寻常的入门经历给了我很多启示。现在回想起来，这并不是一个最佳的实践方式，效果也并不是很好。但只要坚持做，还是有成果的。[刘未鹏](http://mindhacks.cn/)在[《暗时间》](http://book.douban.com/subject/6709809/em)的设计你自己的进度条写过（网络原文：[不是书评 ：《我是一只IT小小鸟》](http://mindhacks.cn/2009/10/05/im-a-tiny-bird-book-review/)）

>它需要的只是你在一个领域坚持不懈地专注下去，只需要选择一个不算太不靠谱的方向，然后专心致志的专下去，最后必然能成为高手或者绝顶高手。

我的方法还不算太不靠谱，所以也做成了。过多的追求方法论反而会陷入方法论的陷阱，[有多少捷径，就有多少条谬误](http://mindhacks.cn/2008/12/18/how-to-think-straight/)。